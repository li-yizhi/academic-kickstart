+++
title = "基于MATLAB的电机异音样本检测与分析 "
date_start = "2017-01-02"
date_end = "2017-06-20"
draft = false

# Tags: can be used for filtering projects.
# Example: `tags = ["machine-learning", "deep-learning"]`
tags = ["matlab","信号处理","语音检测"]


# Project summary to display on homepage.
summary = "研究电机运转声音特征，分析其是否发生故障。为解决电机产品下线前合格品检测的人耳听音检测取代，本文利用MATLAB软件用使用快速傅里叶变换算法对信号进行了傅里叶变换，并将功率频谱绘制为频率的函数。尽管噪声在基于时间的空间内伪装成信号的频率分量，但傅里叶变换将其显现为功率尖峰。同时，本文还使用了周期图法对故障电机与合格电机的音频信号进行功率谱分析。由此，可代替小型电机生产的人耳检测,其准确率可达90%。"

# Slides (optional).
#   Associate this page with Markdown slides.
#   Simply enter your slide deck's filename without extension.
#   E.g. `slides = "example-slides"` references 
#   `content/slides/example-slides.md`.
#   Otherwise, set `slides = ""`.
slides = ""

# Optional external URL for project (replaces project detail page).
external_link = ""

# Links (optional).
url_pdf = ""
url_code = ""
url_dataset = ""
url_slides = ""
url_video = ""
url_poster = ""

# Custom links (optional).
#   Uncomment line below to enable. For multiple links, use the form `[{...}, {...}, {...}]`.
# links = [{icon_pack = "fab", icon="twitter", name="Follow", url = "https://twitter.com"}]

# Featured image
# To use, add an image named `featured.jpg/png` to your page's folder. 
[image]
  # Caption (optional)
  caption = ""

  # Focal point (optional)
  # Options: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight
  focal_point = ""
+++

摘要：研究电机运转声音特征，分析其是否发生故障。为解决电机产品下线前合格品检测的人耳听音检测取代，本文利用MATLAB软件用使用快速傅里叶变换算法对信号进行了傅里叶变换，并将功率频谱绘制为频率的函数。尽管噪声在基于时间的空间内伪装成信号的频率分量，但傅里叶变换将其显现为功率尖峰。同时，本文还使用了周期图法对故障电机与合格电机的音频信号进行功率谱分析。由此，可代替小型电机生产的人耳检测,其准确率可达90%。
关键词：电机振动  快速傅里叶变换  周期图法

0  前言
*我国是洗衣机、家用空调、电冰箱、电风扇等各类小型家电用电动机的主要产地，仅家用空调电机的年产量就逾数亿台之多。
在小型电机生产线上，产品下线之前普遍采用人工听音的方法分辨良、次品，由于需要人做主观判断，长期以来一直难以由自动化装置替代。而大批量生产过程中该工序不仅要消耗大量劳动成本，而且重复、单调的听音工作极易引起人员疲劳，若个别不良品混人整批成品中，会给工厂带来严重经济损失，甚至严重影响产品声誉。
为了解决这一问题，本文用声音传感器替代人耳在听音工位上采集电机声音，通过使用MATLAB软件利用适当的信号处理方法获取声音特征，在此基础上判断电机是否合格。

1  信号采集
1.1  传感器选择
在音频检测系统的研究与开发应用中，传感器的选择是一个关键问题，直接关系到检测仪器的灵敏度、失真度和抗干扰性能。最常用的拾音方法是将机械振动转换为电能量。按照换能的方式可分为两大类，一类是非接触式，又可分为电感式和电容式；另一类为接触式，主要有压电式。
根据实际情况，对传感器的要求是：
首先，频带宽应该覆盖整个人耳可辨声频范围，20—20kHz；其次，灵敏度高；然后，应该具备优异的长期稳定性；最后，宽动态范围等。通过比较，最后选择驻极体自由场型传声器。
1.2  实验过程
所谓异音检测就是检测电机声音的不同。由于目前小型电机生产线上普遍采用人工听音的方法来判断电机的质量，也就是质量好的声音和质量坏的声音存在着差异。而人耳只对声音的频率敏感，因此，异音检测就是采集电机的生信号，从频谱上找出特征。然后利用这种差异来分类从而判断出电机的优劣品。图1是检测异音的方法流程。
{{< figure library="true" src="matlab/1.png" title="检测异音的方法流程" >}}
实验采用10个电机样本，将样本进行编号，例如合格两个样本分别编号为合格1和合格2。合格样本和故障样本各10组。其中故障样本类型为“摩擦音故障”。
采样频率为48K，采样时间为30s。
2  信号处理
2.1  信号读取
使用’ audioread’读入数据文件，画出电机信号波形如图2所示。
{{< figure library="true" src="matlab/2.png" title=" 两类电机样本的时域波形" >}}
2.2  声音信号预处理
实际采集到的数据中，由于传感器频率范围外不稳定的低频特性、温度变化引起放大器产生零点漂移以及传感器周围环境的干扰，往往会导致偏离了基线，有时偏离的大小甚至会随时间变化。故异音识别的第一步，必须对采集的信号先去除趋势项。一般选择多项式最小二乘法。公式表示为：
	 	
其中 为去除趋势后的信号， 为实际采集信号， 为拟合的趋势项，且
	 	
一般取 。 

2.3  频谱分析方法
频谱分析根本思路是将时域的信号转变为频域的信号。转换的方法就是离散傅里叶变换，其计算方法是
	 	           
简单的说就是将时域上的信号 转换到频域下的信号 。 是一个随角频率变化的复数，并且 分布在 之间。实际上 在实际应用的一个通常的叫法是频谱，即一系列随频率而变化的值，反映的是信号的频域分布和变化规律。 
2.3  功率谱分析方法
在信号经过DFT（或FFT）后得到了信号的频谱，但由于在本例中，频谱信号幅度差异并不明显，不能有效分辨出异音信号，因此，选用反映信号功率的功率谱密度（PSD）函数。
2.31  快速傅里叶变换
信号的傅里叶变换可确定其频率分量。在 MATLA中，fft 函数使用快速傅里叶变换算法计算傅里叶变换。使用 fft 计算信号的离散傅里叶变换。将功率频谱绘制为频率的函数。尽管噪声在基于时间的空间内伪装成信号的频率分量，但傅里叶变换将其显现为功率尖峰。
{{< figure library="true" src="matlab/3.png" title=" 第一组样本快速傅里叶变换后的功率谱图" >}}
由图2可知，第一组样本分别有两个功率尖峰，将其出现功率尖峰的两处频率进行放大，得到
{{< figure library="true" src="matlab/4.png" title="第一个功率尖峰（0-10Hz）信号功率谱对比" >}}
{{< figure library="true" src="matlab/5.png" title="第二个功率尖峰（47.9KHz）信号功率谱对比" >}}
3  计算分析与比较
由图2可知，使用快速傅里叶变换后，故障信号与合格信号峰值差异较明显，因此选用快速傅里叶变换后功率谱的峰值为纵坐标，10组样本峰值对比如下：
{{< figure library="true" src="matlab/8.png" title="FFT后功率谱峰值比较" >}}
峰值反映波形中冲击最大的振动幅值，与时间历程无关。异音发生时，功率峰值从原理上应该较大。但也取决于环境的影响和声音传感器的优劣程度等，故而峰值较大处也不一定是异音发生处。如图8所示，大体上故障样本的峰值大于合格样本，但也有例外情况，如第二组合格样本峰值大于故障样本，其辨别合格率为90%。
由图7可知，当使用周期图法时，合格样本与故障样本峰值差异并不大，而故障样本功率波动远大于合格样本，因此我们对这十组样本通过周期图法估算的功率谱进行标准差比较
{{< figure library="true" src="matlab/9.png" title="周期图法功率谱峰值比较" >}}
{{< figure library="true" src="matlab/10.png" title="十组样本快速傅里叶变换后的功率谱图对比" >}}
{{< figure library="true" src="matlab/11.png" title="十组样本周期图法估算的功率谱图对比" >}}
4  结论
产线上电机异音检测是工厂非常重要的一道工序，而现在都是通过人耳进行识别判断，对人的劳动强度极大而且误判漏判的概率非常髙，因此本文针对此特点运用信号处理的方法对声音特征进行辨别。虽然在从识别的角度上可以给工人减少劳动量但是在识别率上有待提高，可能存在其他的特征频段更能表征正常电机和异音电机之间的差异，因此需要选择不同的特征频段不断尝试进行训练判断，才能得到较好的识别效果。

